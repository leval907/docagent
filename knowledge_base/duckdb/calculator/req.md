# –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ü—Ä–æ–µ–∫—Ç 1 - –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –°–ò–ë–£–†

## –¶–µ–ª—å

–°–æ–∑–¥–∞—Ç—å –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ ‚Äî —Å–∏—Å—Ç–µ–º—É, –∫–æ—Ç–æ—Ä–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ –ª–æ—Ç–∞–º –∏–∑ Excel (–≥–æ—Ä–æ–¥–∞, –ø–ª–æ—â–∞–¥–∏, —Ç–µ—Ö–Ω–∏–∫–∞, —Ñ–∏–Ω–∞–Ω—Å—ã)
- –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∫–ª—é—á–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏: —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ –ª–æ—Ç–∞–º, –º–∞—Ä–∂—É, —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑–∞—Ç—Ä–∞—Ç, —Å—Ç–æ–∏–º–æ—Å—Ç—å –û–°
- –°–≤—è–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Ö–Ω–∏–∫–∏ —Å —Ü–µ–Ω–∞–º–∏ –∑–∞–∫—É–ø–∫–∏ –∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –ø–æ –≥–æ—Ä–æ–¥–∞–º
- –í—ã–≤–æ–¥–∏—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫—É: –∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª, –ø—Ä–æ—á–∏–µ —Ä–∞—Å—Ö–æ–¥—ã, –∫–∞–ø–∏—Ç–∞–ª—å–Ω—ã–µ –≤–ª–æ–∂–µ–Ω–∏—è (–û–°)

## üß© 1. –†–µ–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö (–ü—Ä–æ–µ–∫—Ç 1)

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö:
1. **–ì–æ—Ä–æ–¥–∞ –∏ –ø–ª–æ—â–∞–¥—Ç –æ–±—ä–µ–∫—Ç–æ–≤ –ø–æ –°–∏–±—É—Ä-2.xlsx** ‚Üí `cities_areas` (25 –æ–±—ä–µ–∫—Ç–æ–≤, 26 –∫–æ–ª–æ–Ω–æ–∫)
   - –õ–æ—Ç ‚Ññ, –ì–æ—Ä–æ–¥, –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞
   - –ü–ª–æ—â–∞–¥–∏: –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è (–º¬≤), –≤–Ω–µ—à–Ω—è—è (–º¬≤)
   - –§–∏–Ω–∞–Ω—Å—ã: –≤—ã—Ä—É—á–∫–∞ –∑–∏–º–Ω–∏–π –º–µ—Å—è—Ü, –∫–æ–Ω—Ç—Ä–∞–∫—Ç 5 –ª–µ—Ç
   - –ó–∞—Ç—Ä–∞—Ç—ã: –§–û–¢, –ø—Ä–æ—á–∏–µ —Ä–∞—Å—Ö–æ–¥—ã, –∑–∞–∫—É–ø–∫–∞ –û–°
   - **–¢–µ—Ö–Ω–∏–∫–∞ (16 –≤–∏–¥–æ–≤):** –ú–¢–ó-82.1, –ú–ö–†-32–û, –ö–ê–ú–ê–ó, –ì–∞–∑–µ–ª–∏ –∏ —Ç.–¥. (–∫–æ–ª–æ–Ω–∫–∏ K-Z)

2. **–¢–µ—Ö–Ω–∏–∫–∞-–∑–∞–∫—É–ø–∫–∞.xlsx** ‚Üí `equipment` (38 —Å—Ç—Ä–æ–∫, 21 –∫–æ–ª–æ–Ω–∫–∞)
   - –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ç–µ—Ö–Ω–∏–∫–∏, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
   - –¶–µ–Ω–∞ –∑–∞ –µ–¥–∏–Ω–∏—Ü—É (—Å –ù–î–°), —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, —Ç–µ—Ö–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ, –û–°–ê–ì–û, –ö–ê–°–ö–û
   - **–°—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏ –ø–æ 11 –≥–æ—Ä–æ–¥–∞–º:** –¢–æ–±–æ–ª—å—Å–∫, –ë–ª–∞–≥–æ–≤–µ—â–µ–Ω—Å–∫, –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫, –¢–æ–º—Å–∫, –ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥ –∏ –¥—Ä.

### –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:
```
/opt/docagent/knowledge_base/duckdb/calculator/
‚îú‚îÄ‚îÄ project1_calculator.duckdb    # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (780 KB)
‚îÇ   ‚îú‚îÄ‚îÄ cities_areas             # 25 –æ–±—ä–µ–∫—Ç–æ–≤ –≤ 10 –ª–æ—Ç–∞—Ö
‚îÇ   ‚îî‚îÄ‚îÄ equipment                # –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Ç–µ—Ö–Ω–∏–∫–∏
‚îú‚îÄ‚îÄ calculator_report.xlsx        # –û—Ç—á–µ—Ç –ø–æ –ª–æ—Ç–∞–º (7.3 KB)
‚îî‚îÄ‚îÄ lots_equipment_analysis.txt   # –ê–Ω–∞–ª–∏–∑ —Ç–µ—Ö–Ω–∏–∫–∏ –ø–æ –ª–æ—Ç–∞–º (456 —Å—Ç—Ä–æ–∫)
```

## ‚öôÔ∏è 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö (—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∞—è)

### –¢–∞–±–ª–∏—Ü–∞ `cities_areas` (25 —Å—Ç—Ä–æ–∫, 26 –∫–æ–ª–æ–Ω–æ–∫):

| –ö–æ–ª–æ–Ω–∫–∞ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----|----------|
| `–õ–æ—Ç ‚Ññ` | INTEGER | –ù–æ–º–µ—Ä –ª–æ—Ç–∞ (1-10) |
| `–ì–æ—Ä–æ–¥` | VARCHAR | –ì–æ—Ä–æ–¥ –æ–±—ä–µ–∫—Ç–∞ |
| `–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞` | VARCHAR | –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è –°–ò–ë–£–† |
| `S –æ–±—â–∞—è –ø–æ–º–µ—â–µ–Ω–∏–π, –≤–Ω—É—Ç—Ä—è–Ω–∫–∞ (–º2)` | VARCHAR | –ü–ª–æ—â–∞–¥—å –ø–æ–º–µ—â–µ–Ω–∏–π |
| `S –æ–±—â–∞—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏, –≤–Ω–µ—à–∫–∞ (–º2)` | DOUBLE | –ü–ª–æ—â–∞–¥—å —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ |
| `–†–∞—Å—á–µ—Ç–Ω–∞—è –≤—ã—Ä—É—á–∫–∞ –≤ –º–µ—Å—è—Ü –±–µ–∑ –ù–î–°` | INTEGER | –í—ã—Ä—É—á–∫–∞ –∑–∞ –º–µ—Å—è—Ü |
| `–ü–æ–¥–∞–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å —É—Å–ª—É–≥ –∑–∞ –≤–µ—Å—å –ø–µ—Ä–∏–æ–¥ –¥–æ–≥–æ–≤–æ—Ä–∞ - 5 –ª–µ—Ç` | DOUBLE | –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ |
| `–ó–∞—Ç—Ä–∞—Ç—ã –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–ª (–§–û–¢...)` | INTEGER | –§–æ–Ω–¥ –æ–ø–ª–∞—Ç—ã —Ç—Ä—É–¥–∞ |
| `–ü–µ—Ä–≤–∏—á–Ω—ã–µ –≤–ª–æ–∂–µ–Ω–∏—è –≤ "–ø—Ä–æ—á–µ–µ" (–†–ú, —Å—É–±–ø–æ–¥—Ä—è–¥...)` | DOUBLE | –ü—Ä–æ—á–∏–µ —Ä–∞—Å—Ö–æ–¥—ã |
| `–ó–∞—Ç—Ä–∞—Ç—ã –∑–∞–∫—É–ø–∫—É –û–° (–±–µ–∑ –ù–î–°)` | INTEGER | –ö–∞–ø–∏—Ç–∞–ª—å–Ω—ã–µ –≤–ª–æ–∂–µ–Ω–∏—è |
| **–ö–æ–ª–æ–Ω–∫–∏ K-Z (10-25):** | INTEGER | **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Ö–Ω–∏–∫–∏ –∫–∞–∂–¥–æ–≥–æ –≤–∏–¥–∞** |
| ` –ú–¢–ó-82.1, –æ—Ç–≤–∞–ª –ö–û-4...` | INT | –¢—Ä–∞–∫—Ç–æ—Ä—ã |
| `–ú–ö–†-32–û (–æ—Ç–≤–∞–ª, —â–µ—Ç–∫–∞)` | INT | –¢—Ä–∞–∫—Ç–æ—Ä—ã –ú–ö–† |
| `–ö–û-806-40 –Ω–∞ —à–∞—Å—Å–∏ –ö–ê–ú–ê–ó...` | INT | –ü–æ–ª–∏–≤–æ–º–æ–µ—á–Ω—ã–µ –º–∞—à–∏–Ω—ã |
| `–ö–∞–º–∞–∑ 45143 –°–∞–º–æ—Å–≤–∞–ª` | INT | –°–∞–º–æ—Å–≤–∞–ª—ã |
| `–ì–∞–∑–µ–ª—å —Ñ—É—Ä–≥–æ–Ω, –°–æ–±–æ–ª—å, –í–ê–ó` | INT | –õ–µ–≥–∫–∏–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏ |
| ... –∏ —Ç.–¥. (–≤—Å–µ–≥–æ 16 –≤–∏–¥–æ–≤) | INT | |

### –¢–∞–±–ª–∏—Ü–∞ `equipment` (38 —Å—Ç—Ä–æ–∫, 21 –∫–æ–ª–æ–Ω–∫–∞):

| –ö–æ–ª–æ–Ω–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `Field1` | ‚Ññ –ø/–ø |
| `Field2` | –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ç–µ—Ö–Ω–∏–∫–∏ |
| `Field3` | –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ |
| `Field4` | –¶–µ–Ω–∞ –∑–∞ –µ–¥–∏–Ω–∏—Ü—É (—Å –ù–î–° 20%) |
| `Field5` | –°—Ç–æ–∏–º–æ—Å—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ |
| `Field6` | –¢–µ—Ö–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ (—Å–µ–∑–æ–Ω–Ω–æ–µ) |
| `Field7` | –û–°–ê–ì–û |
| `Field8` | –ö–ê–°–ö–û |
| `Field9` | –ö–æ–Ω—Ç–∞–∫—Ç –¥–∏–ª–µ—Ä–∞ |
| `Field10` | –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ |
| **Field11-21** | **–°—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏ –ø–æ –≥–æ—Ä–æ–¥–∞–º:** |
| `Field11` | –¢–æ–±–æ–ª—å—Å–∫ |
| `Field12` | –ë–ª–∞–≥–æ–≤–µ—â–µ–Ω—Å–∫ |
| `Field13` | –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫ |
| `Field14` | –¢–æ–º—Å–∫ |
| `Field15` | –ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥ |
| `Field16` | –ü–µ—Ä–º—å |
| `Field17` | –í–æ—Ä–æ–Ω–µ–∂ |
| `Field18` | –ö—É—Ä—Å–∫ |
| `Field19` | –ù–æ–≤–æ–∫—É–π–±—ã—à–µ–≤—Å–∫ |
| `Field20` | –£—Å—Ç—å-–õ—É–≥–∞ |
| `Field21` | –¢–≤–µ—Ä—å |
## üßÆ 3. –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (–ø–æ –¥–∞–Ω–Ω—ã–º)

### –ü–æ –≤—Å–µ–º –ª–æ—Ç–∞–º (9 –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–∑ 10):

| –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å | –ó–Ω–∞—á–µ–Ω–∏–µ | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|------------|----------|-------------|
| **–û–±—â–∞—è –ø–ª–æ—â–∞–¥—å** | 12.4 –º–ª–Ω –º¬≤ | 1.6 –º–ª–Ω –≤–Ω—É—Ç—Ä. + 10.8 –º–ª–Ω –≤–Ω–µ—à. |
| **–í—ã—Ä—É—á–∫–∞ (–∑–∏–º–Ω–∏–π –º–µ—Å—è—Ü)** | 202.6 –º–ª–Ω —Ä—É–± | –ë–µ–∑ –ù–î–° |
| **–ì–æ–¥–æ–≤–∞—è –≤—ã—Ä—É—á–∫–∞** | 2.4 –º–ª—Ä–¥ —Ä—É–± | x12 –º–µ—Å—è—Ü–µ–≤ |
| **–ö–æ–Ω—Ç—Ä–∞–∫—Ç 5 –ª–µ—Ç** | 12.7 –º–ª—Ä–¥ —Ä—É–± | –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å |
| **–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞** | 204 —Ä—É–±/–º¬≤/–≥–æ–¥ | –ü–æ –≤—Å–µ–º –æ–±—ä–µ–∫—Ç–∞–º |

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞—Ç—Ä–∞—Ç (–∑–∏–º–Ω–∏–π –º–µ—Å—è—Ü):

| –°—Ç–∞—Ç—å—è | –°—É–º–º–∞ | % –æ—Ç –≤—ã—Ä—É—á–∫–∏ |
|--------|-------|--------------|
| **–í—ã—Ä—É—á–∫–∞** | 97.9 –º–ª–Ω —Ä—É–± | 100% |
| –§–û–¢ –ø–µ—Ä—Å–æ–Ω–∞–ª | 63.7 –º–ª–Ω —Ä—É–± | **65%** |
| –ü—Ä–æ—á–∏–µ —Ä–∞—Å—Ö–æ–¥—ã | 75.4 –º–ª–Ω —Ä—É–± | **77%** |
| **–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã** | 139.0 –º–ª–Ω —Ä—É–± | **142%** ‚ö†Ô∏è |
| **–ú–∞—Ä–∂–∞** | **-41.1 –º–ª–Ω —Ä—É–±** | **-42%** ‚ö†Ô∏è |

### –ö–∞–ø–∏—Ç–∞–ª—å–Ω—ã–µ –≤–ª–æ–∂–µ–Ω–∏—è (–û–°):

| –°—Ç–∞—Ç—å—è | –°—É–º–º–∞ |
|--------|-------|
| **–ó–∞–∫—É–ø–∫–∞ –û–° (–µ–¥–∏–Ω–æ—Ä–∞–∑–æ–≤–æ)** | 159.2 –º–ª–Ω —Ä—É–± |
| –¢–µ—Ö–Ω–∏–∫–∞ –≤—Å–µ–≥–æ | ~100-120 –µ–¥–∏–Ω–∏—Ü |

### –¢–æ–ø-5 –ª–æ—Ç–æ–≤ –ø–æ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞:

| –õ–æ—Ç | –ì–æ—Ä–æ–¥ | –ö–æ–Ω—Ç—Ä–∞–∫—Ç 5 –ª–µ—Ç | –ó–∞—Ç—Ä–∞—Ç—ã –û–° |
|-----|-------|----------------|------------|
| 1 | –¢–æ–±–æ–ª—å—Å–∫ (–ó–°–ù–• –∏ –°–∏–±–¢) | 2.38 –º–ª—Ä–¥ | 58.3 –º–ª–Ω |
| 6 | –í–æ—Ä–æ–Ω–µ–∂ | 1.31 –º–ª—Ä–¥ | 31.6 –º–ª–Ω |
| 7 | –ë–ª–∞–≥–æ–≤–µ—â–µ–Ω—Å–∫ | 721 –º–ª–Ω | 25.6 –º–ª–Ω |
| 4 | –ë–∞–ª–∞—Ö–Ω–∞ | 673 –º–ª–Ω | 28.6 –º–ª–Ω |
| 2 | –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫ | 364 –º–ª–Ω | 10.2 –º–ª–Ω |

### ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞—Ö–æ–¥–∫–∏:

1. **–í—Å–µ –ª–æ—Ç—ã —É–±—ã—Ç–æ—á–Ω—ã –ø–æ –∑–∏–º–Ω–µ–º—É –º–µ—Å—è—Ü—É** (–º–∞—Ä–∂–∞ –æ—Ç -13% –¥–æ -124%)
2. **–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã –ø—Ä–µ–≤—ã—à–∞—é—Ç –≤—ã—Ä—É—á–∫—É** (142% vs 100%)
3. **–§–û–¢ + –ü—Ä–æ—á–∏–µ = 142%** –æ—Ç –º–µ—Å—è—á–Ω–æ–π –≤—ã—Ä—É—á–∫–∏
4. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø—Ä–∏–±—ã–ª—å –∑–∞–ª–æ–∂–µ–Ω–∞ –≤ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç (5 –ª–µ—Ç), –∞ –Ω–µ –≤ –º–µ—Å—è—á–Ω—É—é –∫–∞–ª—å–∫—É–ª—è—Ü–∏—é
## üß± 4. –ó–∞–¥–∞—á–∏ –¥–ª—è –¥–æ—Ä–∞–±–æ—Ç–∫–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

1. **–ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –∏–∑ Excel** ‚Üí DuckDB
   - `cities_areas`: 25 –æ–±—ä–µ–∫—Ç–æ–≤, 10 –ª–æ—Ç–æ–≤
   - `equipment`: 38 –ø–æ–∑–∏—Ü–∏–π —Ç–µ—Ö–Ω–∏–∫–∏

2. **–ë–∞–∑–æ–≤—ã–µ —Ä–∞—Å—á–µ—Ç—ã:**
   - –û–±—â–∏–µ –ø–ª–æ—â–∞–¥–∏ –ø–æ –ª–æ—Ç–∞–º
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞—Ç—Ä–∞—Ç (–§–û–¢, –ø—Ä–æ—á–∏–µ, –û–°)
   - –ú–∞—Ä–∂–∞ –ø–æ –∑–∏–º–Ω–µ–º—É –º–µ—Å—è—Ü—É
   - –°—Ç–æ–∏–º–æ—Å—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –Ω–∞ 5 –ª–µ—Ç

3. **–û—Ç—á–µ—Ç—ã:**
   - `/scripts/finance/project1_calculator.py` - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
   - `/scripts/finance/analyze_lots_costs.py` - –∞–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∑–∞—Ç—Ä–∞—Ç
   - `/scripts/finance/analyze_lots_equipment.py` - —Ç–µ—Ö–Ω–∏–∫–∞ –ø–æ –ª–æ—Ç–∞–º
   - Excel –æ—Ç—á–µ—Ç: `calculator_report.xlsx`

### üîÑ –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å:

#### 4.1. –î–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –û–° –ø–æ –ª–æ—Ç–∞–º

**–ó–∞–¥–∞—á–∞:** –°–≤—è–∑–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Ö–Ω–∏–∫–∏ –∏–∑ `cities_areas` —Å —Ü–µ–Ω–∞–º–∏ –∏–∑ `equipment`

**–õ–æ–≥–∏–∫–∞:**
```sql
-- –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ª–æ—Ç–∞:
FOR –∫–∞–∂–¥–∞—è_—Ç–µ—Ö–Ω–∏–∫–∞ IN (–ú–¢–ó, –ú–ö–†, –ö–ê–ú–ê–ó...):
    –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ = cities_areas[–ª–æ—Ç][—Ç–µ—Ö–Ω–∏–∫–∞_–∫–æ–ª–æ–Ω–∫–∞]
    —Ü–µ–Ω–∞_–±–∞–∑–æ–≤–∞—è = equipment[—Ç–µ—Ö–Ω–∏–∫–∞].Field4
    –¥–æ—Å—Ç–∞–≤–∫–∞ = equipment[—Ç–µ—Ö–Ω–∏–∫–∞][–≥–æ—Ä–æ–¥_–ª–æ—Ç–∞]
    
    —Å—Ç–æ–∏–º–æ—Å—Ç—å_–ø–æ–∑–∏—Ü–∏–∏ = (—Ü–µ–Ω–∞_–±–∞–∑–æ–≤–∞—è + –¥–æ—Å—Ç–∞–≤–∫–∞) * –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
    
–ò–¢–û–ì–û_–û–°_–ª–æ—Ç–∞ = SUM(–≤—Å–µ_–ø–æ–∑–∏—Ü–∏–∏)
```

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –û–° —Å —É–∫–∞–∑–∞–Ω–Ω–æ–π –≤ –∫–æ–ª–æ–Ω–∫–µ "–ó–∞—Ç—Ä–∞—Ç—ã –∑–∞–∫—É–ø–∫—É –û–°"

#### 4.2. –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –≤–Ω—É—Ç—Ä–∏ –ª–æ—Ç–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–µ–π—á–∞—Å –≤ –±–∞–∑–µ –µ—Å—Ç—å —Å—Ç—Ä–æ–∫–∏ —Å `–õ–æ—Ç ‚Ññ = NULL` (—ç—Ç–æ –æ–±—ä–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—Ö–æ–¥—è—Ç –≤ –ª–æ—Ç—ã, –Ω–æ –Ω–µ –∏–º–µ—é—Ç –Ω–æ–º–µ—Ä–∞)

**–†–µ—à–µ–Ω–∏–µ:**
- –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—É—é —Ç–∞–±–ª–∏—Ü—É `lots_objects` —Å–æ —Å–≤—è–∑–∫–æ–π –ª–æ—Ç ‚Üí –æ–±—ä–µ–∫—Ç—ã
- –õ–æ—Ç 1 –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä –¢–æ–±–æ–ª—å—Å–∫ + –ê—ç—Ä–æ–ø–æ—Ä—Ç)
- –°—É–º–º–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –ø–æ –≤—Å–µ–º –æ–±—ä–µ–∫—Ç–∞–º –ª–æ—Ç–∞

#### 4.3. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

**–¢–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:**
- –ü–ª–æ—â–∞–¥—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ VARCHAR (–µ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è —Ç–∏–ø–∞ "173 475,92 / 321 68,36")
- –ù–∞–∑–≤–∞–Ω–∏—è —Ç–µ—Ö–Ω–∏–∫–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç –º–µ–∂–¥—É `cities_areas` (–∫–æ–ª–æ–Ω–∫–∏) –∏ `equipment` (—Å—Ç—Ä–æ–∫–∏)
- –ï—Å—Ç—å –ø—Ä–æ–±–µ–ª—ã –≤ –Ω–∞—á–∞–ª–µ –Ω–∞–∑–≤–∞–Ω–∏–π –∫–æ–ª–æ–Ω–æ–∫

**–†–µ—à–µ–Ω–∏–µ:**
- –°–æ–∑–¥–∞—Ç—å —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Ç–µ—Ö–Ω–∏–∫–∏ —Å –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏
- –ü—Ä–∏–≤–µ—Å—Ç–∏ –ø–ª–æ—â–∞–¥–∏ –∫ DOUBLE
- –°–æ–∑–¥–∞—Ç—å mapping –º–µ–∂–¥—É –∫–æ–ª–æ–Ω–∫–∞–º–∏ –∏ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–º

#### 4.4. –†–∞—Å—á–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞—Ç—Ä–∞—Ç –Ω–∞ —Ç–µ—Ö–Ω–∏–∫—É

**–î–∞–Ω–Ω—ã–µ –µ—Å—Ç—å –≤ `equipment`:**
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (Field5)
- –¢–µ—Ö–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ (Field6)
- –û–°–ê–ì–û (Field7)
- –ö–êSKO (Field8)

**–†–∞—Å—á–µ—Ç –ø–æ–ª–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤–ª–∞–¥–µ–Ω–∏—è (TCO):**
```
TCO = (–¶–µ–Ω–∞ + –î–æ—Å—Ç–∞–≤–∫–∞) + (–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è + –¢–û + –û–°–ê–ì–û + –ö–ê–°–ö–û) * 5 –ª–µ—Ç
```

#### 4.5. –°–æ–∑–¥–∞—Ç—å —Å–≤–æ–¥–Ω—É—é —Ç–∞–±–ª–∏—Ü—É –ø–æ –ª–æ—Ç–∞–º

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:**
```
lots_summary:
- lot_id
- lot_name
- city
- objects_count
- total_area_indoor
- total_area_outdoor
- revenue_winter_month
- contract_5years
- fot_costs
- other_costs
- equipment_costs_declared  # –∏–∑ –∏—Å—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- equipment_costs_calculated # —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω–∞—è —Å—É–º–º–∞
- equipment_list (JSON)     # –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Ö–Ω–∏–∫–∏
- margin_month
- margin_percent
```

## ‚ö° 5. –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã)

### –§–∞–∑–∞ 1: –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –û–° (–ü–†–ò–û–†–ò–¢–ï–¢)

- [ ] –°–æ–∑–¥–∞—Ç—å —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Ç–µ—Ö–Ω–∏–∫–∏ —Å –º–∞–ø–ø–∏–Ω–≥–æ–º –Ω–∞–∑–≤–∞–Ω–∏–π
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –û–° –ø–æ —Ñ–æ—Ä–º—É–ª–µ: `(—Ü–µ–Ω–∞ + –¥–æ—Å—Ç–∞–≤–∫–∞) * –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ`
- [ ] –°–≤–µ—Ä–∏—Ç—å —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å —Å –∑–∞—è–≤–ª–µ–Ω–Ω–æ–π
- [ ] –í—ã–≤–µ—Å—Ç–∏ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é: –∫–∞–∫–∞—è —Ç–µ—Ö–Ω–∏–∫–∞, —Å–∫–æ–ª—å–∫–æ —à—Ç—É–∫, –∫–∞–∫–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–Ω–∏–º–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–∞–ø–∏—Ç–∞–ª—å–Ω—ã—Ö –≤–ª–æ–∂–µ–Ω–∏–π –ø–æ –∫–∞–∂–¥–æ–º—É –ª–æ—Ç—É

### –§–∞–∑–∞ 2: –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –ª–æ—Ç—ã

- [ ] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–∞–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã (—Å `–õ–æ—Ç ‚Ññ = NULL`) –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫ –∫–∞–∫–∏–º –ª–æ—Ç–∞–º
- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É `lots_summary` —Å –∞–≥—Ä–µ–≥–∞—Ü–∏–µ–π –ø–æ –ª–æ—Ç–∞–º
- [ ] –°—É–º–º–∏—Ä–æ–≤–∞—Ç—å –ø–ª–æ—â–∞–¥–∏, –≤—ã—Ä—É—á–∫—É, –∑–∞—Ç—Ä–∞—Ç—ã –ø–æ –≤—Å–µ–º –æ–±—ä–µ–∫—Ç–∞–º –ª–æ—Ç–∞

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∞ –ø–æ –∫–∞–∂–¥–æ–º—É –ª–æ—Ç—É (–Ω–µ —Ç–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω–æ–π –æ–±—ä–µ–∫—Ç)

### –§–∞–∑–∞ 3: TCO (Total Cost of Ownership)

- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—á–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞—Ç—Ä–∞—Ç: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –¢–û, –û–°–ê–ì–û, –ö–ê–°–ö–û
- [ ] –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –ø–æ–ª–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤–ª–∞–¥–µ–Ω–∏—è —Ç–µ—Ö–Ω–∏–∫–æ–π –Ω–∞ 5 –ª–µ—Ç
- [ ] –í–∫–ª—é—á–∏—Ç—å –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—é

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –†–µ–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–µ—Ö–Ω–∏–∫–∏

### –§–∞–∑–∞ 4: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

- [ ] Streamlit –¥–∞—à–±–æ—Ä–¥ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –ø–æ –ª–æ—Ç–∞–º
- [ ] –ì—Ä–∞—Ñ–∏–∫–∏: —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞—Ç—Ä–∞—Ç, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ—Ö–Ω–∏–∫–∏, –º–∞—Ä–∂–∞ –ø–æ –ª–æ—Ç–∞–º
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –≤ –ø—Ä–µ–∑–µ–Ω—Ç–∞–±–µ–ª—å–Ω—ã–π Excel –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞

## ÔøΩ 6. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (—Ç–µ–∫—É—â–∞—è)

```
/opt/docagent/
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îî‚îÄ‚îÄ finance/
‚îÇ       ‚îú‚îÄ‚îÄ project1_calculator.py          # –û—Å–Ω–æ–≤–Ω–æ–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
‚îÇ       ‚îú‚îÄ‚îÄ analyze_lots_costs.py           # –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∑–∞—Ç—Ä–∞—Ç
‚îÇ       ‚îú‚îÄ‚îÄ analyze_lots_equipment.py       # –¢–µ—Ö–Ω–∏–∫–∞ –ø–æ –ª–æ—Ç–∞–º
‚îÇ       ‚îî‚îÄ‚îÄ config.yaml                     # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ
‚îú‚îÄ‚îÄ knowledge_base/
‚îÇ   ‚îî‚îÄ‚îÄ duckdb/
‚îÇ       ‚îú‚îÄ‚îÄ calculator/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ project1_calculator.duckdb  # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (780 KB)
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ calculator_report.xlsx      # Excel –æ—Ç—á–µ—Ç (7.3 KB)
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ lots_equipment_analysis.txt # –ê–Ω–∞–ª–∏–∑ —Ç–µ—Ö–Ω–∏–∫–∏ (456 —Å—Ç—Ä–æ–∫)
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ req.md                      # –≠—Ç–æ—Ç —Ñ–∞–π–ª - –¢–ó
‚îÇ       ‚îÇ
‚îÇ       ‚îî‚îÄ‚îÄ osv/                            # –û–°–í —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
‚îÇ           ‚îú‚îÄ‚îÄ osv_database.duckdb
‚îÇ           ‚îî‚îÄ‚îÄ files/ ‚Üí symlink
‚îÇ
‚îî‚îÄ‚îÄ input_files/
    ‚îî‚îÄ‚îÄ Project_1/
        ‚îú‚îÄ‚îÄ –ì–æ—Ä–æ–¥–∞ –∏ –ø–ª–æ—â–∞–¥—Ç –æ–±—ä–µ–∫—Ç–æ–≤ –ø–æ –°–∏–±—É—Ä-2.xlsx  # –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö
        ‚îú‚îÄ‚îÄ –¢–µ—Ö–Ω–∏–∫–∞-–∑–∞–∫—É–ø–∫–∞.xlsx                       # –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Ç–µ—Ö–Ω–∏–∫–∏
        ‚îú‚îÄ‚îÄ –ü–ª–æ—â–∞–¥–∏ –æ–±—ä–µ–∫—Ç–æ–≤.pdf                       # –î–æ–ø. –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
        ‚îî‚îÄ‚îÄ –®–∞–±–ª–æ–Ω –ü–ë–û_—è–Ω–≤–∞—Ä—å_2026-5–ª–µ—Ç.XLS           # –®–∞–±–ª–æ–Ω —Ä–∞—Å—á–µ—Ç–∞
```

## üí° 7. –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ:

1. **–°–æ–∑–¥–∞—Ç—å –º–∞–ø–ø–∏–Ω–≥ —Ç–µ—Ö–Ω–∏–∫–∏** –º–µ–∂–¥—É –∫–æ–ª–æ–Ω–∫–∞–º–∏ `cities_areas` –∏ —Å—Ç—Ä–æ–∫–∞–º–∏ `equipment`
2. **–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –û–°** –ø–æ —Ñ–æ—Ä–º—É–ª–µ —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π
3. **–°–æ–∑–¥–∞—Ç—å —Å–≤–æ–¥–Ω—É—é —Ç–∞–±–ª–∏—Ü—É `lots_summary`**

### –ü–æ—Å–ª–µ:

4. –°–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã –ø–æ –ª–æ—Ç–∞–º (–≤–∫–ª—é—á–∞—è NULL –ª–æ—Ç—ã)
5. –î–æ–±–∞–≤–∏—Ç—å TCO —Å —É—á–µ—Ç–æ–º –¢–û, –û–°–ê–ì–û, –ö–ê–°–ö–û
6. –≠–∫—Å–ø–æ—Ä—Ç –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞ –≤ Excel –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ:

7. Streamlit UI –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
8. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å PostgreSQL –¥–ª—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è
9. ArangoDB –¥–ª—è –≥—Ä–∞—Ñ–æ–≤—ã—Ö —Å–≤—è–∑–µ–π: –ª–æ—Ç ‚Üí –æ–±—ä–µ–∫—Ç ‚Üí —Ç–µ—Ö–Ω–∏–∫–∞ ‚Üí –≥–æ—Ä–æ–¥

ü™∂ 7. –ü–æ—Ç–æ–∫ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö (n8n –∏–ª–∏ Python)
‚Üí –ß–∏—Ç–∞–µ—Ç Excel/CSV
‚Üí DuckDB —á–∏—Å—Ç–∏—Ç –∏ –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ

–†–∞—Å—á—ë—Ç (FastAPI)
‚Üí /lot/calc
‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ PostgreSQL

–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (Metabase / Superset)
‚Üí –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–∞—Ä–∂–∏, ROI, Cash Velocity

–ö–æ–Ω—Ç–µ–∫—Å—Ç (ArangoDB)
‚Üí –≥—Ä–∞—Ñ–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã: ‚Äú–∫–∞–∫–∏–µ —Ç–∏–ø—ã —Ç–µ—Ö–Ω–∏–∫–∏ –¥–∞—é—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π ROI –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —Ä–µ–≥–∏–æ–Ω–µ‚Äù

üß± 8. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–ø—Ä–æ—Ç–æ—Ç–∏–ø)
lot_calculator/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ main.py                # FastAPI
‚îÇ   ‚îú‚îÄ‚îÄ db.py                  # –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL
‚îÇ   ‚îú‚îÄ‚îÄ models.py              # Pydantic —Å—Ö–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ    ‚îú‚îÄ‚îÄ calculator.py     # —Ä–∞—Å—á—ë—Ç—ã
‚îÇ   ‚îÇ    ‚îú‚îÄ‚îÄ loader.py         # –∏–º–ø–æ—Ä—Ç Excel —á–µ—Ä–µ–∑ DuckDB
‚îÇ   ‚îÇ    ‚îî‚îÄ‚îÄ arango_client.py  # —Å–≤—è–∑–∏ –≤ –≥—Ä–∞—Ñ–µ
‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ        ‚îî‚îÄ‚îÄ etl_duckdb.py     # –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
‚îÇ
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ lots_raw.xlsx
‚îÇ   ‚îú‚îÄ‚îÄ processed/
‚îÇ   ‚îî‚îÄ‚îÄ logs/
‚îÇ
‚îú‚îÄ‚îÄ docker-compose.yml
‚îî‚îÄ‚îÄ README.md

üí° 9. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

DuckDB –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–æ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞—Ç—å Excel-—Ñ–∞–π–ª—ã –∏ –≥–æ—Ç–æ–≤–∏—Ç—å –∏—Ö –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏.

–ú–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å n8n:
‚Üí Webhook –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É –Ω–æ–≤–æ–≥–æ Excel
‚Üí –ó–∞–ø—É—Å–∫ FastAPI /lot/calc
‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ PostgreSQL.

–í Arango —Ö—Ä–∞–Ω–∏—Ç—å ‚Äú—Ü–µ–Ω–Ω–æ—Å—Ç–Ω—ã–µ —Ü–µ–ø–æ—á–∫–∏‚Äù –∏ –∏—Å–∫–∞—Ç—å –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∫–∏–µ —Ä–µ–≥–∏–æ–Ω—ã –¥–∞—é—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç—å –ø–æ –ª–æ—Ç–∞–º —Å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–æ–π).